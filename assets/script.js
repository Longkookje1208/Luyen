const _0x3f8949=_0x20af;!function(e,t){const a=_0x20af,n=_0x4028();for(;;)try{if(630192===parseInt(a(509))/1+parseInt(a(334))/2+parseInt(a(339))/3+parseInt(a(450))/4*(-parseInt(a(322))/5)+parseInt(a(425))/6+parseInt(a(571))/7*(-parseInt(a(508))/8)+-parseInt(a(499))/9*(parseInt(a(518))/10))break;n.push(n.shift())}catch(e){n.push(n.shift())}}();import*as _0x58a0b3 from"three";import{OrbitControls}from"three/addons/controls/OrbitControls.js";import{FontLoader}from"three/examples/jsm/loaders/FontLoader.js";import{TextGeometry}from"three/examples/jsm/geometries/TextGeometry.js";const scene=new _0x58a0b3.Scene;scene[_0x3f8949(340)]=new _0x58a0b3.FogExp2(0,.0015);const camera=new(_0x58a0b3[_0x3f8949(437)])(75,window[_0x3f8949(582)]/window[_0x3f8949(556)],.1,1e5);camera[_0x3f8949(515)][_0x3f8949(360)](0,20,30);const renderer=new(_0x58a0b3[_0x3f8949(530)])({antialias:!0});renderer[_0x3f8949(466)](window[_0x3f8949(582)],window.innerHeight),renderer[_0x3f8949(445)](Math[_0x3f8949(510)](window.devicePixelRatio,2)),renderer.outputColorSpace=_0x58a0b3[_0x3f8949(440)],document[_0x3f8949(563)](_0x3f8949(533))[_0x3f8949(584)](renderer[_0x3f8949(424)]);const controls=new OrbitControls(camera,renderer[_0x3f8949(424)]);function createGlowMaterial(e,t=128,a=.55){const n=_0x3f8949,o=document[n(580)](n(346));o[n(490)]=o[n(555)]=t;const r=o[n(417)]("2d"),i=r.createRadialGradient(t/2,t/2,0,t/2,t/2,t/2);i[n(468)](0,e),i[n(468)](1,n(351)),r[n(575)]=i,r[n(519)](0,0,t,t);const s=new(_0x58a0b3[n(472)])(o),l=new(_0x58a0b3[n(567)])({map:s,transparent:!0,opacity:a,depthWrite:!1,blending:_0x58a0b3[n(553)]});return new(_0x58a0b3[n(439)])(l)}controls[_0x3f8949(379)]=!0,controls.autoRotate=!0,controls[_0x3f8949(565)]=.1,controls.enabled=!1,controls[_0x3f8949(348)][_0x3f8949(360)](0,0,0),controls[_0x3f8949(593)]=!1,controls[_0x3f8949(501)]=15,controls.maxDistance=300,controls[_0x3f8949(496)]=.3,controls.rotateSpeed=.3,controls[_0x3f8949(557)]();const centralGlow=createGlowMaterial("rgba(255,255,255,0.8)",156,.25);function _0x4028(){const e=["PerspectiveCamera","left","Sprite","SRGBColorSpace","spin","src","Số lượng ảnh: ","strokeStyle","setPixelRatio","Vector3","location","slice","intersectObjects","727140MkbuDn","splice","./img/1.jpg","life","arms","ctrlKey","anisotropy","px Arial, sans-serif","gesturestart","Scene","type","textBaseline","sin","getAttribute","filter","longkookje1208.github.io","setSize","RingGeometry","addColorStop","forEach","keydown","translate","CanvasTexture","touchmove","style","latin","minFilter","hint-icon-group","LineBasicMaterial","uniforms","blur(2px)","setDrawRange","angleOffset","documentElement","clientX","onload","middle","pitchAmplitude","\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ","shadowBlur","width","bold ","main-planet","atan2","clearRect","portrait-mode","zoomSpeed","DOMContentLoaded","none","419130UAAvSJ","pow","minDistance","color","#3fd8c7","starfield","opacity","vertexShader","#b2ff59","148360TmmpIU","1251117GlqgZO","min","fillText","getZ","top","head","position","randomness","shadowColor","50bEvqEv","fillRect","webkitRequestFullscreen","CylinderGeometry","mozRequestFullScreen","F12","geometryNear","count","resize","capabilities","\n        varying vec3 vNormal;\n        uniform vec3 glowColor;\n        void main() {\n            float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n            gl_FragColor = vec4(glowColor, 1.0) * intensity;\n        }\n    ","getX","WebGLRenderer","getPoint","lineWidth","container","#ffb3de","initialPosition","Shape","\n        uniform float uSize;\n        uniform float uTime;\n        uniform float uRippleTime;\n        uniform float uRippleSpeed;\n        uniform float uRippleWidth;\n\n        varying vec3 vColor;\n\n        void main() {\n            // Lấy màu gốc từ geometry (giống hệt vertexColors: true)\n            vColor = color;\n\n            vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n            // ---- LOGIC HIỆU ỨNG GỢN SÓNG ----\n            if (uRippleTime > 0.0) {\n                float rippleRadius = (uTime - uRippleTime) * uRippleSpeed;\n                float particleDist = length(modelPosition.xyz);\n\n                float strength = 1.0 - smoothstep(rippleRadius - uRippleWidth, rippleRadius + uRippleWidth, particleDist);\n                strength *= smoothstep(rippleRadius + uRippleWidth, rippleRadius - uRippleWidth, particleDist);\n\n                if (strength > 0.0) {\n                    vColor += vec3(strength * 2.0); // Làm màu sáng hơn khi sóng đi qua\n                }\n            }\n\n            vec4 viewPosition = viewMatrix * modelPosition;\n            gl_Position = projectionMatrix * viewPosition;\n            // Dòng này làm cho các hạt nhỏ hơn khi ở xa, mô phỏng hành vi của PointsMaterial\n            gl_PointSize = uSize / -viewPosition.z;\n        }\n    ","white","ringTexts","getY","points","PlaneGeometry","clone","add","intro-started","Galaxy","trail","rgba(255, 200, 220, 0.8)","BufferGeometry","BufferAttribute","pitchSpeed","AmbientLight","AdditiveBlending","beginPath","height","innerHeight","update","#e1aaff","PointsMaterial","textRings","fontScale","#f06292","getElementById","moveTo","autoRotateSpeed","Raycaster","SpriteMaterial","classList","strokeText","innerHTML","28UvwZwj","normalize","setFromPoints","RepeatWrapping","fillStyle","preventDefault","Color","pitchPhase","\n            varying vec3 vNormal;\n            void main() {\n                vNormal = normalize(normalMatrix * normal);\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n            }\n        ","createElement","rotation","innerWidth","traverse","appendChild","setAttribute","#ffffff","ontouchstart","lerp","./img/2.jpg","MeshBasicMaterial","geometry","magFilter","enablePan","userData","insideColor","orientationchange","innerText","div","body","setProperty","tiltAmplitude","clientY","requestFullscreen","30WQeKgi","ringRadius","devicePixelRatio","addScaledVector","curve","length","transparent","remove","msRequestFullscreen","visible","bezierCurveTo","Line","430802xsiGPz","font","ShaderMaterial","material","   ","301473sPWoRy","fog","floor","copy","speed","getWorldDirection","children","canvas","lookAt","target","#a259f7","charCodeAt","rgba(0,0,0,0)","Points","object","rgba(180, 120, 200, ","subVectors","clip","crossOrigin","getMaxAnisotropy","getWorldPosition","set","materialFar","#f48fb1","renderOrder","isPoints","rollAmplitude","random","BackSide","multiplyScalar","dataLove2Loveloom","DoubleSide","enabled","center","progress",", Điểm mỗi ảnh: ","trailLength","Image","wrapS","rollSpeed","enableDamping","Group","initialAngle","hostname","cjk","data","\n        varying vec3 vNormal;\n        void main() {\n            vNormal = normalize(normalMatrix * normal);\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n        }\n    ","getPixelRatio","geometryFar","shiftKey","ceil","closePath","addEventListener","save","scale","radius","getBoundingClientRect","lineTo","hsla(","#e0b3ff","spacingScale","createRadialGradient","SphereGeometry","randomnessPower","parent","drawImage","push","setFromCamera","max","Mesh","./img/4.jpg","cos","tiltSpeed","click","measureText","tiltPhase","#f8bbd0","materialNear","getContext","value","arcTo","intersectObject","Vector2","isTextRing","ShapeGeometry","domElement","2765538zbpcxE","repeat","TextureLoader","key","name","ringMesh","LinearFilter","textAlign","aspect","updateProjectionMatrix","now","outsideColor"];return(_0x4028=function(){return e})()}centralGlow[_0x3f8949(393)].set(8,8,1),scene[_0x3f8949(544)](centralGlow);for(let e=0;e<15;e++){const e=360*Math[_0x3f8949(366)](),t=createGlowMaterial(_0x3f8949(397)+e+", 80%, 50%, 0.6)",256);t[_0x3f8949(393)].set(100,100,1),t.position.set(175*(Math[_0x3f8949(366)]()-.5),175*(Math[_0x3f8949(366)]()-.5),175*(Math[_0x3f8949(366)]()-.5)),scene[_0x3f8949(544)](t)}const galaxyParameters={count:1e5,arms:6,radius:100,spin:.5,randomness:.2,randomnessPower:20,insideColor:new(_0x58a0b3[_0x3f8949(577)])(14040790),outsideColor:new(_0x58a0b3[_0x3f8949(577)])(4765880)},heartImages=[...window[_0x3f8949(369)]&&window[_0x3f8949(369)][_0x3f8949(384)].heartImages?window.dataLove2Loveloom.data.heartImages:[],_0x3f8949(452),_0x3f8949(589),"./img/3.jpg",_0x3f8949(409)],textureLoader=new(_0x58a0b3[_0x3f8949(427)]),numGroups=heartImages[_0x3f8949(327)],maxDensity=15e3,minDensity=4e3,maxGroupsForScale=6;let pointsPerGroup;if(numGroups<=1)pointsPerGroup=15e3;else if(numGroups>=6)pointsPerGroup=4e3;else{const e=(numGroups-1)/5;pointsPerGroup=Math[_0x3f8949(341)](15e3*(1-e)+4e3*e)}pointsPerGroup*numGroups>galaxyParameters[_0x3f8949(525)]&&(pointsPerGroup=Math[_0x3f8949(341)](galaxyParameters[_0x3f8949(525)]/numGroups)),console.log(_0x3f8949(443)+numGroups+_0x3f8949(374)+pointsPerGroup);const positions=new Float32Array(3*galaxyParameters[_0x3f8949(525)]),colors=new Float32Array(3*galaxyParameters.count);let pointIdx=0;for(let e=0;e<galaxyParameters[_0x3f8949(525)];e++){const t=Math[_0x3f8949(500)](Math[_0x3f8949(366)](),galaxyParameters.randomnessPower)*galaxyParameters[_0x3f8949(394)],a=e%galaxyParameters[_0x3f8949(454)]/galaxyParameters.arms*Math.PI*2,n=t*galaxyParameters[_0x3f8949(441)],o=(Math[_0x3f8949(366)]()-.5)*galaxyParameters[_0x3f8949(516)]*t,r=(Math.random()-.5)*galaxyParameters.randomness*t*.5,i=(Math[_0x3f8949(366)]()-.5)*galaxyParameters[_0x3f8949(516)]*t,s=a+n;if(t<30&&Math.random()<.7)continue;const l=3*pointIdx;positions[l]=Math.cos(s)*t+o,positions[l+1]=r,positions[l+2]=Math.sin(s)*t+i;const c=new(_0x58a0b3[_0x3f8949(577)])(16738047);c[_0x3f8949(588)](new _0x58a0b3.Color(6750207),t/galaxyParameters[_0x3f8949(394)]),c[_0x3f8949(368)](.7+.3*Math.random()),colors[l]=c.r,colors[l+1]=c.g,colors[l+2]=c.b,pointIdx++}const galaxyGeometry=new _0x58a0b3.BufferGeometry;galaxyGeometry.setAttribute("position",new(_0x58a0b3[_0x3f8949(550)])(positions.slice(0,3*pointIdx),3)),galaxyGeometry[_0x3f8949(585)]("color",new(_0x58a0b3[_0x3f8949(550)])(colors[_0x3f8949(448)](0,3*pointIdx),3));const galaxyMaterial=new _0x58a0b3.ShaderMaterial({uniforms:{uTime:{value:0},uSize:{value:50*renderer[_0x3f8949(386)]()},uRippleTime:{value:-1},uRippleSpeed:{value:40},uRippleWidth:{value:20}},vertexShader:_0x3f8949(537),fragmentShader:"\n        varying vec3 vColor;\n        void main() {\n            // Làm cho các hạt có hình tròn thay vì hình vuông\n            float dist = length(gl_PointCoord - vec2(0.5));\n            if (dist > 0.5) discard;\n\n            gl_FragColor = vec4(vColor, 1.0);\n        }\n    ",blending:_0x58a0b3[_0x3f8949(553)],depthWrite:!1,transparent:!0,vertexColors:!0}),galaxy=new(_0x58a0b3[_0x3f8949(352)])(galaxyGeometry,galaxyMaterial);function createNeonTexture(e,t){const a=_0x3f8949,n=window[a(324)]||1,o=document[a(580)]("canvas");o.width=o[a(555)]=t*n,o[a(474)][a(490)]=o[a(474)][a(555)]=t+"px";const r=o[a(417)]("2d");r[a(393)](n,n);const i=e[a(490)]/e[a(555)];let s,l,c,x;i>1?(s=t,l=t/i,c=0,x=(t-l)/2):(l=t,s=t*i,c=(t-s)/2,x=0),r[a(494)](0,0,t,t);const f=.1*t;r[a(392)](),r[a(554)](),r.moveTo(c+f,x),r.lineTo(c+s-f,x),r.arcTo(c+s,x,c+s,x+f,f),r[a(396)](c+s,x+l-f),r[a(419)](c+s,x+l,c+s-f,x+l,f),r[a(396)](c+f,x+l),r[a(419)](c,x+l,c,x+l-f,f),r[a(396)](c,x+f),r[a(419)](c,x,c+f,x,f),r[a(390)](),r[a(356)](),r[a(404)](e,c,x,s,l),r.restore();const d=new(_0x58a0b3[a(472)])(o);return d[a(476)]=_0x58a0b3[a(431)],d[a(592)]=_0x58a0b3.LinearFilter,d[a(456)]=renderer[a(527)][a(358)](),d.colorSpace=_0x58a0b3[a(440)],d}scene[_0x3f8949(544)](galaxy);for(let e=0;e<numGroups;e++){const t=new Float32Array(3*pointsPerGroup),a=new Float32Array(3*pointsPerGroup),n=new Float32Array(3*pointsPerGroup);let o=0;for(let r=0;r<pointsPerGroup;r++){const i=3*o,s=e*pointsPerGroup+r,l=Math[_0x3f8949(500)](Math[_0x3f8949(366)](),galaxyParameters[_0x3f8949(402)])*galaxyParameters[_0x3f8949(394)];if(l<30)continue;const c=s%galaxyParameters[_0x3f8949(454)]/galaxyParameters[_0x3f8949(454)]*Math.PI*2,x=l*galaxyParameters[_0x3f8949(441)],f=(Math.random()-.5)*galaxyParameters.randomness*l,d=(Math[_0x3f8949(366)]()-.5)*galaxyParameters[_0x3f8949(516)]*l*.5,m=(Math[_0x3f8949(366)]()-.5)*galaxyParameters.randomness*l,_=c+x;t[i]=Math[_0x3f8949(410)](_)*l+f,t[i+1]=d,t[i+2]=Math[_0x3f8949(462)](_)*l+m;const p=new(_0x58a0b3[_0x3f8949(577)])(16777215);a[i]=p.r,a[i+1]=p.g,a[i+2]=p.b;const u=galaxyParameters[_0x3f8949(595)][_0x3f8949(543)]();u[_0x3f8949(588)](galaxyParameters[_0x3f8949(436)],l/galaxyParameters[_0x3f8949(394)]),u.multiplyScalar(.7+.3*Math.random()),n[i]=u.r,n[i+1]=u.g,n[i+2]=u.b,o++}if(0===o)continue;const r=new(_0x58a0b3[_0x3f8949(549)]);r[_0x3f8949(585)](_0x3f8949(515),new(_0x58a0b3[_0x3f8949(550)])(t.slice(0,3*o),3)),r[_0x3f8949(585)]("color",new _0x58a0b3.BufferAttribute(a[_0x3f8949(448)](0,3*o),3));const i=new(_0x58a0b3[_0x3f8949(549)]);i[_0x3f8949(585)](_0x3f8949(515),new(_0x58a0b3[_0x3f8949(550)])(t.slice(0,3*o),3)),i[_0x3f8949(585)](_0x3f8949(502),new(_0x58a0b3[_0x3f8949(550)])(n[_0x3f8949(448)](0,3*o),3));const s=i[_0x3f8949(463)]("position");let l=0,c=0,x=0;for(let e=0;e<s[_0x3f8949(525)];e++)l+=s.getX(e),c+=s[_0x3f8949(540)](e),x+=s[_0x3f8949(512)](e);l/=s[_0x3f8949(525)],c/=s[_0x3f8949(525)],x/=s.count,r.translate(-l,-c,-x),i[_0x3f8949(471)](-l,-c,-x);const f=new(window[_0x3f8949(376)]);f[_0x3f8949(357)]="Anonymous",f[_0x3f8949(442)]=heartImages[e],f[_0x3f8949(485)]=()=>{const e=_0x3f8949,t=createNeonTexture(f,256),a=new(_0x58a0b3[e(559)])({size:1.8,map:t,transparent:!1,alphaTest:.2,depthWrite:!0,depthTest:!0,blending:_0x58a0b3.NormalBlending,vertexColors:!0}),n=new(_0x58a0b3[e(559)])({size:1.8,map:t,transparent:!0,alphaTest:.2,depthWrite:!1,blending:_0x58a0b3.AdditiveBlending,vertexColors:!0}),o=new _0x58a0b3.Points(i,n);o[e(515)].set(l,c,x),o[e(594)][e(416)]=a,o[e(594)][e(524)]=r,o[e(594)][e(361)]=n,o[e(594)][e(387)]=i,scene[e(544)](o)}}const ambientLight=new(_0x58a0b3[_0x3f8949(552)])(16777215,.2);scene[_0x3f8949(544)](ambientLight);const starCount=2e4,starGeometry=new _0x58a0b3.BufferGeometry,starPositions=new Float32Array(6e4);for(let e=0;e<2e4;e++)starPositions[3*e]=900*(Math[_0x3f8949(366)]()-.5),starPositions[3*e+1]=900*(Math.random()-.5),starPositions[3*e+2]=900*(Math[_0x3f8949(366)]()-.5);starGeometry[_0x3f8949(585)]("position",new(_0x58a0b3[_0x3f8949(550)])(starPositions,3));const starMaterial=new(_0x58a0b3[_0x3f8949(559)])({color:16777215,size:.7,transparent:!0,opacity:.7,depthWrite:!1}),starField=new(_0x58a0b3[_0x3f8949(352)])(starGeometry,starMaterial);starField[_0x3f8949(429)]=_0x3f8949(504),starField[_0x3f8949(363)]=999,scene.add(starField);let shootingStars=[];function createShootingStar(){const e=_0x3f8949,t=new(_0x58a0b3[e(401)])(2,32,32),a=new(_0x58a0b3[e(590)])({color:16777215,transparent:!0,opacity:0,blending:_0x58a0b3[e(553)]}),n=new _0x58a0b3.Mesh(t,a),o=new _0x58a0b3.SphereGeometry(3,32,32),r=new(_0x58a0b3[e(336)])({uniforms:{time:{value:0}},vertexShader:e(579),fragmentShader:"\n            varying vec3 vNormal;\n            uniform float time;\n            void main() {\n                float intensity = pow(0.7 - dot(vNormal, vec3(0.0, 0.0, 1.0)), 2.0);\n                gl_FragColor = vec4(1.0, 1.0, 1.0, intensity * (0.8 + sin(time * 5.0) * 0.2));\n            }\n        ",transparent:!0,blending:_0x58a0b3.AdditiveBlending,side:_0x58a0b3.BackSide}),i=new _0x58a0b3.Mesh(o,r);n.add(i);const s=new _0x58a0b3.SphereGeometry(1.05*planetRadius,48,48),l=new(_0x58a0b3[e(336)])({uniforms:{glowColor:{value:new _0x58a0b3.Color(14726143)}},vertexShader:e(385),fragmentShader:e(528),side:_0x58a0b3[e(367)],blending:_0x58a0b3[e(553)],transparent:!0}),c=new _0x58a0b3.Mesh(s,l);planet[e(544)](c);const x=createRandomCurve(),f=[];for(let t=0;t<100;t++){const a=t/99;f.push(x[e(531)](a))}const d=(new(_0x58a0b3[e(549)]))[e(573)](f),m=new(_0x58a0b3[e(478)])({color:10087167,transparent:!0,opacity:.7,linewidth:2}),_=new(_0x58a0b3[e(333)])(d,m),p=new(_0x58a0b3[e(380)]);p[e(544)](n),p[e(544)](_),p[e(594)]={curve:x,progress:0,speed:.001+.001*Math[e(366)](),life:0,maxLife:300,head:n,trail:_,trailLength:100,trailPoints:f},scene[e(544)](p),shootingStars[e(405)](p)}function createRandomCurve(){const e=_0x3f8949,t=new _0x58a0b3.Vector3(100*Math[e(366)]()-200,200*Math[e(366)]()-100,200*Math[e(366)]()-100),a=new _0x58a0b3.Vector3(600+200*Math[e(366)](),t.y+(200*Math[e(366)]()-100),t.z+(200*Math[e(366)]()-100)),n=new(_0x58a0b3[e(446)])(t.x+200+100*Math[e(366)](),t.y+(100*Math[e(366)]()-50),t.z+(100*Math.random()-50)),o=new(_0x58a0b3[e(446)])(a.x-200+100*Math[e(366)](),a.y+(100*Math[e(366)]()-50),a.z+(100*Math[e(366)]()-50));return[].push(t,n,o,a),new _0x58a0b3.CubicBezierCurve3(t,n,o,a)}function createPlanetTexture(e=512){const t=_0x3f8949,a=document[t(580)](t(346));a[t(490)]=a[t(555)]=e;const n=a[t(417)]("2d"),o=n[t(400)](e/2,e/2,e/8,e/2,e/2,e/2);o.addColorStop(0,t(415)),o[t(468)](.12,"#f48fb1"),o.addColorStop(.22,t(562)),o[t(468)](.35,t(586)),o[t(468)](.5,t(558)),o.addColorStop(.62,t(349)),o[t(468)](.75,t(507)),o[t(468)](1,t(503)),n[t(575)]=o,n.fillRect(0,0,e,e);const r=[t(415),"#f8bbd0",t(362),t(362),t(562),t(562),t(586),t(558),t(349),t(507)];for(let a=0;a<40;a++){const a=Math[t(366)]()*e,o=Math[t(366)]()*e,i=30+120*Math.random(),s=r[Math[t(341)](Math[t(366)]()*r[t(327)])],l=n[t(400)](a,o,0,a,o,i);l.addColorStop(0,s+"cc"),l[t(468)](1,s+"00"),n[t(575)]=l,n[t(519)](0,0,e,e)}for(let a=0;a<8;a++)n[t(554)](),n[t(564)](Math[t(366)]()*e,Math[t(366)]()*e),n[t(332)](Math[t(366)]()*e,Math.random()*e,Math[t(366)]()*e,Math[t(366)]()*e,Math[t(366)]()*e,Math[t(366)]()*e),n[t(444)]=t(354)+(.12+.18*Math[t(366)]())+")",n[t(532)]=8+18*Math[t(366)](),n.stroke();return void 0!==n[t(464)]&&(n[t(464)]=t(480),n[t(404)](a,0,0),n.filter=t(498)),new(_0x58a0b3[t(472)])(a)}const stormShader={uniforms:{time:{value:0},baseTexture:{value:null}},vertexShader:_0x3f8949(488),fragmentShader:"\n        uniform float time;\n        uniform sampler2D baseTexture;\n        varying vec2 vUv;\n        void main() {\n            vec2 uv = vUv;\n            float angle = length(uv - vec2(0.5)) * 3.0;\n            float twist = sin(angle * 3.0 + time) * 0.1;\n            uv.x += twist * sin(time * 0.5);\n            uv.y += twist * cos(time * 0.5);\n            vec4 texColor = texture2D(baseTexture, uv);\n            float noise = sin(uv.x * 10.0 + time) * sin(uv.y * 10.0 + time) * 0.1;\n            texColor.rgb += noise * vec3(0.8, 0.4, 0.2);\n            gl_FragColor = texColor;\n        }\n    "},planetRadius=10,planetGeometry=new(_0x58a0b3[_0x3f8949(401)])(planetRadius,48,48),planetTexture=createPlanetTexture(),planetMaterial=new _0x58a0b3.ShaderMaterial({uniforms:{time:{value:0},baseTexture:{value:planetTexture}},vertexShader:stormShader[_0x3f8949(506)],fragmentShader:stormShader.fragmentShader}),planet=new _0x58a0b3.Mesh(planetGeometry,planetMaterial);planet[_0x3f8949(515)][_0x3f8949(360)](0,0,0),scene[_0x3f8949(544)](planet);const ringTexts=[_0x3f8949(546),"love",...window[_0x3f8949(369)]&&window[_0x3f8949(369)][_0x3f8949(384)].ringTexts?window.dataLove2Loveloom[_0x3f8949(384)][_0x3f8949(539)]:[]];function createTextRings(){const e=_0x3f8949,t=ringTexts[e(327)],a=1.1*planetRadius;window[e(560)]=[];for(let o=0;o<t;o++){const r=ringTexts[o%ringTexts[e(327)]]+e(338),i=a+5*o;function n(t){const a=e,n=t[a(350)](0);return n>=19968&&n<=40959||n>=12352&&n<=12447||n>=12448&&n<=12543||n>=44032&&n<=55215?a(383):n>=0&&n<=127?a(475):"other"}let s={cjk:0,latin:0,other:0};for(let C of r)s[n(C)]++;const l=r[e(327)],c=s.cjk/l;let x={fontScale:.75,spacingScale:1.1};0===o?(x[e(561)]=.55,x[e(399)]=.9):1===o&&(x[e(561)]=.65,x[e(399)]=1),c>0&&(x[e(561)]*=.9,x[e(399)]*=1.1);const f=200,d=Math.max(120,.9*f),m=document.createElement("canvas")[e(417)]("2d");m[e(335)]="bold "+d+"px Arial, sans-serif";let _=ringTexts[o%ringTexts.length]+e(338),p=m[e(413)](_)[e(490)],u=2*Math.PI*i*180,h=Math[e(389)](u/p),g="";for(let G=0;G<h;G++)g+=_;let w=p*h;(w<1||!g)&&(g=_,w=p);const b=document[e(580)]("canvas");b[e(490)]=Math.ceil(Math.max(1,w)),b[e(555)]=f;const v=b[e(417)]("2d");v[e(494)](0,0,b[e(490)],f),v[e(335)]=e(491)+d+e(457),v[e(575)]=e(538),v[e(432)]=e(438),v[e(461)]="alphabetic",v[e(517)]=e(398),v[e(489)]=24,v[e(532)]=6,v[e(444)]="#fff",v[e(569)](g,0,.8*f),v[e(517)]=e(534),v[e(489)]=16,v[e(511)](g,0,.8*f);const y=new(_0x58a0b3[e(472)])(b);y[e(377)]=_0x58a0b3[e(574)],y[e(426)].x=w/u,y.needsUpdate=!0;const M=new(_0x58a0b3[e(521)])(i,i,1,128,1,!0),P=new _0x58a0b3.MeshBasicMaterial({map:y,transparent:!0,side:_0x58a0b3.DoubleSide,alphaTest:.01}),S=new(_0x58a0b3[e(408)])(M,P);S[e(515)][e(360)](0,0,0),S[e(581)].y=Math.PI/2;const I=new(_0x58a0b3[e(380)]);I[e(544)](S),I[e(594)]={ringRadius:i,angleOffset:.15*Math.PI*.5,speed:.008,tiltSpeed:0,rollSpeed:0,pitchSpeed:0,tiltAmplitude:Math.PI/3,rollAmplitude:Math.PI/6,pitchAmplitude:Math.PI/8,tiltPhase:2*Math.PI,rollPhase:2*Math.PI,pitchPhase:2*Math.PI,isTextRing:!0};const T=o/t*(Math.PI/1);I.rotation.x=T,scene[e(544)](I),window[e(560)].push(I)}}function updateTextRingsRotation(){const e=_0x3f8949;window[e(560)]&&camera&&window[e(560)][e(469)](((t,a)=>{const n=e;t[n(345)].forEach((e=>{const a=n;if(void 0!==e.userData[a(381)]){const n=e[a(594)][a(381)]+t[a(594)][a(482)],o=Math[a(410)](n)*e[a(594)][a(323)],r=Math.sin(n)*e.userData.ringRadius;e.position[a(360)](o,0,r);const i=new _0x58a0b3.Vector3;e[a(359)](i);const s=(new(_0x58a0b3[a(446)]))[a(355)](camera[a(515)],i)[a(572)](),l=Math[a(493)](s.x,s.z);e[a(581)].y=l}}))}))}function animatePlanetSystem(){const e=_0x3f8949;if(window[e(560)]){const t=.001*Date[e(435)]();window[e(560)][e(469)](((a,n)=>{const o=e,r=a[o(594)];r.angleOffset+=r[o(343)];const i=Math[o(462)](t*r[o(411)]+r.tiltPhase)*r[o(319)],s=Math[o(410)](t*r[o(378)]+r.rollPhase)*r[o(365)],l=Math[o(462)](t*r[o(551)]+r[o(578)])*r[o(487)];a[o(581)].x=n/window[o(560)].length*(Math.PI/1)+i,a.rotation.z=s,a.rotation.y=r.angleOffset+l;const c=.3*Math.sin(t*(.7*r[o(411)])+r[o(414)]);a[o(515)].y=c;const x=(Math[o(462)](1.5*t+n)+1)/2,f=a[o(345)][0];f&&f.material&&(f[o(337)].opacity=.7+.3*x)})),updateTextRingsRotation()}}createTextRings();let hintIcon,hintText,fadeOpacity=.1,fadeInProgress=!1;function createHintIcon(){const e=_0x3f8949;hintIcon=new(_0x58a0b3[e(380)]),hintIcon.name=e(477),scene[e(544)](hintIcon);const t=new(_0x58a0b3[e(380)]),a=new(_0x58a0b3[e(536)]),n=.75;a[e(564)](0,0),a[e(396)](.4*-.75,.7*-1.5),a[e(396)](-.1875,.7*-1.5),a[e(396)](-.375,-1.5),a.lineTo(.375,-1.5),a.lineTo(.1875,.7*-1.5),a[e(396)](.4*n,.7*-1.5),a[e(390)]();const o=new _0x58a0b3.ShapeGeometry(a),r=new(_0x58a0b3[e(590)])({color:16777215,side:_0x58a0b3[e(370)]}),i=new(_0x58a0b3[e(408)])(o,r),s=new(_0x58a0b3[e(423)])(a),l=new(_0x58a0b3[e(590)])({color:16777215,side:_0x58a0b3[e(370)]}),c=new _0x58a0b3.Mesh(s,l);c.scale.set(.8,.8,1),c.position.z=.01,t[e(544)](i,c),t[e(515)].y=.75,t[e(581)].x=Math.PI/2;const x=new(_0x58a0b3[e(467)])(1.8,2,32),f=new(_0x58a0b3[e(590)])({color:16777215,side:_0x58a0b3.DoubleSide,transparent:!0,opacity:.6}),d=new _0x58a0b3.Mesh(x,f);d.rotation.x=Math.PI/2,hintIcon[e(594)][e(430)]=d,hintIcon[e(544)](t),hintIcon[e(544)](d),hintIcon[e(515)][e(360)](1.5,1.5,15),hintIcon.scale[e(360)](.8,.8,.8),hintIcon[e(347)](planet[e(515)]),hintIcon.userData[e(535)]=hintIcon[e(515)].clone()}function animateHintIcon(e){const t=_0x3f8949;if(hintIcon)if(introStarted)hintIcon&&(hintIcon[t(331)]=!1),hintText&&(hintText[t(331)]=!1);else{hintIcon.visible=!0;const a=2.5,n=1.5,o=Math.sin(e*a)*n,r=new(_0x58a0b3[t(446)]);hintIcon[t(344)](r),hintIcon[t(515)][t(342)](hintIcon[t(594)].initialPosition)[t(325)](r,-o);const i=hintIcon[t(594)][t(430)],s=1+.1*Math[t(462)](e*a);i[t(393)].set(s,s,1),i.material[t(505)]=.5+.2*Math.sin(e*a),hintText&&(hintText[t(331)]=!0,hintText.material.opacity=.7+.3*Math[t(462)](3*e),hintText[t(515)].y=15+.5*Math[t(462)](2*e),hintText[t(347)](camera[t(515)]))}}function animate(){const e=_0x3f8949;requestAnimationFrame(animate);const t=.001*performance[e(435)]();animateHintIcon(t),controls.update(),planet[e(337)][e(479)].time[e(418)]=.5*t,fadeInProgress&&fadeOpacity<1&&(fadeOpacity+=.025,fadeOpacity>1&&(fadeOpacity=1)),introStarted?scene[e(583)]((t=>{const a=e;t.userData[a(422)]||t[a(403)]&&t[a(403)][a(594)]&&t[a(403)][a(594)][a(422)]||t===planet||t===centralGlow||t[a(460)]===a(459)?t[a(337)]&&void 0!==t[a(337)][a(505)]&&(t[a(337)][a(505)]=1,t.material.transparent=!1):t[a(337)]&&void 0!==t[a(337)][a(505)]&&(t[a(337)].transparent=!0,t[a(337)][a(505)]=fadeOpacity),t[a(337)]&&t.material[a(502)]&&t[a(337)][a(502)][a(360)](16777215)})):(fadeOpacity=.1,scene[e(583)]((t=>{const a=e;t[a(429)]!==a(504)?t[a(594)].isTextRing||t[a(403)]&&t[a(403)].userData&&t[a(403)][a(594)][a(422)]?(t[a(337)]&&void 0!==t[a(337)].opacity&&(t[a(337)][a(328)]=!1,t.material[a(505)]=1),t.material&&t.material[a(502)]&&t[a(337)].color[a(360)](16777215)):t!==planet&&t!==centralGlow&&t!==hintIcon&&"Scene"!==t[a(460)]&&!t.parent.isGroup&&t[a(337)]&&void 0!==t[a(337)][a(505)]&&(t.material[a(328)]=!0,t.material[a(505)]=.1):t[a(541)]&&void 0!==t[a(337)][a(505)]&&(t[a(337)][a(328)]=!1,t.material.opacity=1)})),planet[e(331)]=!0,centralGlow.visible=!0);for(let a=shootingStars[e(327)]-1;a>=0;a--){const n=shootingStars[a];n[e(594)][e(453)]++;let o=1;if(n[e(594)][e(453)]<30?o=n[e(594)].life/30:n.userData[e(453)]>n.userData.maxLife-30&&(o=(n.userData.maxLife-n.userData.life)/30),n[e(594)].progress+=n[e(594)][e(343)],n.userData.progress>1){scene.remove(n),shootingStars[e(451)](a,1);continue}const r=n[e(594)][e(326)][e(531)](n[e(594)][e(373)]);n[e(515)][e(342)](r),n[e(594)][e(514)][e(337)][e(505)]=o,n.userData[e(514)][e(345)][0][e(337)].uniforms.time[e(418)]=t;const i=n.userData[e(547)],s=n[e(594)].trailPoints;s[0][e(342)](r);for(let t=1;t<n[e(594)][e(375)];t++){const a=Math[e(407)](0,n[e(594)][e(373)]-.01*t);s[t][e(342)](n[e(594)].curve[e(531)](a))}i[e(591)][e(573)](s),i[e(337)][e(505)]=.7*o}shootingStars[e(327)]<3&&Math[e(366)]()<.02&&createShootingStar(),scene[e(583)]((t=>{const a=e;if(t[a(364)]&&t.userData[a(416)]&&t[a(594)][a(361)]){const e=t.geometry.getAttribute(a(515));let n=!1;for(let o=0;o<e.count;o++){const r=e[a(529)](o)+t[a(515)].x,i=e[a(540)](o)+t[a(515)].y,s=e[a(512)](o)+t[a(515)].z;if(camera[a(515)].distanceTo(new(_0x58a0b3[a(446)])(r,i,s))<10){n=!0;break}}n?t[a(337)]!==t[a(594)].materialNear&&(t[a(337)]=t[a(594)][a(416)],t.geometry=t[a(594)][a(524)]):t.material!==t.userData[a(361)]&&(t[a(337)]=t[a(594)][a(361)],t[a(591)]=t[a(594)][a(387)])}})),planet[e(347)](camera[e(515)]),animatePlanetSystem(),starField&&starField[e(337)]&&void 0!==starField[e(337)][e(505)]&&(starField[e(337)].opacity=1,starField[e(337)][e(328)]=!1),renderer.render(scene,camera)}function createHintText(){const e=_0x3f8949,t=512,a=document[e(580)](e(346));a.width=a[e(555)]=t;const n=a[e(417)]("2d"),o="Chạm Vào Tinh Cầu";n[e(335)]=e(491)+50+e(457),n[e(432)]=e(372),n.textBaseline=e(486),n[e(517)]=e(534),n.shadowBlur=5,n[e(532)]=2,n[e(444)]=e(548),n[e(569)](o,256,256),n[e(517)]=e(398),n.shadowBlur=5,n[e(532)]=2,n[e(444)]="rgba(220, 180, 255, 0.5)",n[e(569)](o,256,256),n.shadowColor=e(328),n[e(489)]=0,n[e(575)]=e(538),n[e(511)](o,256,256);const r=new(_0x58a0b3[e(472)])(a);r.needsUpdate=!0;const i=new(_0x58a0b3[e(590)])({map:r,transparent:!0,side:_0x58a0b3.DoubleSide}),s=new(_0x58a0b3[e(542)])(16,8);hintText=new(_0x58a0b3[e(408)])(s,i),hintText[e(515)][e(360)](0,15,0),scene[e(544)](hintText)}function startCameraAnimation(){const e=_0x3f8949,t={x:camera[e(515)].x,y:camera[e(515)].y,z:camera[e(515)].z},a=t.x,n=0,o=t.z,r=t.x,i=0,s=160,l=-40,c=100,x=100,f=.2,d=.55;let m=0;controls[e(371)]=!1,function _(){const p=e;let u;if(m+=.00101,m<f){let e=m/f;u={x:t.x+(a-t.x)*e,y:t.y+(n-t.y)*e,z:t.z+(o-t.z)*e}}else if(m<.75){let e=(m-f)/d;u={x:a+(r-a)*e,y:n+(i-n)*e,z:o+(s-o)*e}}else{if(!(m<1.15))return camera[p(515)].set(l,c,x),camera[p(347)](0,0,0),controls[p(348)].set(0,0,0),controls[p(557)](),void(controls.enabled=!0);{let e=(m-f-d)/.4,t=.5-.5*Math[p(410)](Math.PI*e);u={x:r+(l-r)*t,y:i+(c-i)*t,z:s+(x-s)*t}}}camera.position[p(360)](u.x,u.y,u.z),camera[p(347)](0,0,0),requestAnimationFrame(_)}()}function _0x20af(e,t){const a=_0x4028();return(_0x20af=function(e,t){return a[e-=314]})(e,t)}createShootingStar(),createHintIcon(),createHintText(),window[_0x3f8949(391)]("resize",(()=>{const e=_0x3f8949;camera[e(433)]=window[e(582)]/window[e(556)],camera[e(434)](),renderer[e(466)](window[e(582)],window[e(556)]),controls[e(348)].set(0,0,0),controls[e(557)]()}));const raycaster=new(_0x58a0b3[_0x3f8949(566)]),mouse=new(_0x58a0b3[_0x3f8949(421)]);let introStarted=!1;const originalStarCount=starGeometry[_0x3f8949(463)]("position")[_0x3f8949(525)];function requestFullScreen(){const e=_0x3f8949,t=document[e(483)];t[e(321)]?t[e(321)]():t[e(522)]?t[e(522)]():t[e(520)]?t[e(520)]():t[e(330)]&&t.msRequestFullscreen()}function onCanvasClick(e){const t=_0x3f8949;if(introStarted)return;const a=renderer.domElement[t(395)]();mouse.x=(e[t(484)]-a[t(438)])/a[t(490)]*2-1,mouse.y=-(e[t(320)]-a[t(513)])/a[t(555)]*2+1,raycaster[t(406)](mouse,camera);if(raycaster[t(420)](planet)[t(327)]>0)requestFullScreen(),introStarted=!0,fadeInProgress=!0,document[t(317)][t(568)].add(t(545)),startCameraAnimation(),starField&&starField[t(591)]&&starField[t(591)][t(481)](0,originalStarCount);else if(introStarted){const e=raycaster[t(449)](heartPointClouds);if(e[t(327)]>0){const a=e[0][t(353)];controls[t(348)].copy(a[t(515)])}}}function setFullScreen(){const e=_0x3f8949,t=.01*window[e(556)];document[e(483)][e(474)][e(318)]("--vh",t+"px");const a=document.getElementById(e(533));a&&(a[e(474)].height=window[e(556)]+"px")}starField&&starField.geometry&&starField[_0x3f8949(591)][_0x3f8949(481)](0,Math[_0x3f8949(341)](.1*originalStarCount)),renderer[_0x3f8949(424)][_0x3f8949(391)](_0x3f8949(412),onCanvasClick),animate(),planet[_0x3f8949(429)]=_0x3f8949(492),centralGlow[_0x3f8949(429)]="main-glow",window.addEventListener(_0x3f8949(526),setFullScreen),window[_0x3f8949(391)](_0x3f8949(314),(()=>{setTimeout(setFullScreen,300)})),setFullScreen();const preventDefault=e=>e[_0x3f8949(576)]();document[_0x3f8949(391)](_0x3f8949(473),preventDefault,{passive:!1}),document[_0x3f8949(391)](_0x3f8949(458),preventDefault,{passive:!1});const container=document[_0x3f8949(563)](_0x3f8949(533));function checkOrientation(){const e=_0x3f8949;window[e(556)]>window[e(582)]&&e(587)in window?document[e(317)][e(568)].add(e(495)):document.body[e(568)][e(329)](e(495))}container&&container[_0x3f8949(391)](_0x3f8949(473),preventDefault,{passive:!1}),window[_0x3f8949(391)](_0x3f8949(497),checkOrientation),window.addEventListener(_0x3f8949(526),checkOrientation),window[_0x3f8949(391)](_0x3f8949(314),(()=>{setTimeout(checkOrientation,200)}));const offi=_0x3f8949(465),current=window[_0x3f8949(447)][_0x3f8949(382)];if(current!==offi){document[_0x3f8949(317)][_0x3f8949(570)]="";const e=document.createElement(_0x3f8949(316)),t=document[_0x3f8949(580)](_0x3f8949(316));t[_0x3f8949(315)]=" ",e[_0x3f8949(584)](t),document[_0x3f8949(317)][_0x3f8949(584)](e)}document[_0x3f8949(391)](_0x3f8949(470),(function(e){const t=_0x3f8949;(e.key===t(523)||e[t(455)]&&e[t(388)]&&("I"===e.key||"J"===e[t(428)])||e.ctrlKey&&"U"===e[t(428)])&&e[t(576)]()})),document[_0x3f8949(391)]("contextmenu",(function(e){e[_0x3f8949(576)]()}));